"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8316],{8316:(E,b,l)=>{l.r(b),l.d(b,{AlbumPageModule:()=>R});var a=l(5672),p=l(1368),f=l(4716),g=l(9260),r=l(7632),s=l(1528),t=l(4496),P=l(180),v=l(2258),A=l(6792),y=l(1092);function I(n,u){if(1&n){const i=t.KQA();t.I0R(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",7)(3,"ion-button",8),t.qCj("click",function(){t.usT(i);const e=t.GaO();return t.CGJ(e.cancel())}),t.OEk(4,"Cancelar"),t.C$Y()(),t.I0R(5,"ion-title",9),t.OEk(6,"Elige las fotos"),t.C$Y(),t.I0R(7,"ion-buttons",10)(8,"ion-button",11),t.qCj("click",function(){t.usT(i);const e=t.GaO();return t.CGJ(e.confirm())}),t.OEk(9,"Confirmar"),t.C$Y()()()(),t.I0R(10,"ion-content",12)(11,"app-list-photos",13),t.qCj("selectedPhotos",function(e){t.usT(i);const c=t.GaO();return t.CGJ(c.changeSelectedPhotos(e))}),t.C$Y(),t.I0R(12,"ion-fab",14)(13,"ion-fab-button",4),t.qCj("click",function(){t.usT(i);const e=t.GaO();return t.CGJ(e.addNewPhoto())}),t.wR5(14,"ion-icon",15),t.C$Y()()()}if(2&n){const i=t.GaO();t.yG2(8),t.E7m("strong",!0),t.yG2(3),t.E7m("photosInput",i.photoService.photos)("selection",!0)}}const C=[{path:"",component:(()=>{var n;class u{constructor(o,e,c,m,T){var h=this;this.albumsService=o,this.photoService=e,this.router=c,this.activatedRoute=m,this.modalController=T,this.albumId="",this.nameAlbum="\xc1lbum",this.modalEnabled=!1,this.selectedPhotos=[],this.photosAlbum=[],this.activatedRoute.params.subscribe(function(){var S=(0,s.c)(function*(d){d.albumId&&(h.albumId=d.albumId),h.albumId||h.router.navigateByUrl("/")});return function(d){return S.apply(this,arguments)}}())}ngOnInit(){var o=this;return(0,s.c)(function*(){yield o.getInfoAlbum(),yield o.getPhotosByAlbum()})()}getInfoAlbum(){var o=this;return(0,s.c)(function*(){const e=yield o.albumsService.getAlbumById(o.albumId);e&&(o.nameAlbum=e.name)})()}getPhotosByAlbum(){var o=this;return(0,s.c)(function*(){o.photosAlbum=yield o.photoService.getPhotosByAlbum(o.albumId)})()}addPhotoToAlbum(){var o=this;return(0,s.c)(function*(){yield o.photoService.getPhotosCache()})()}addNewPhoto(){var o=this;return(0,s.c)(function*(){yield o.photoService.addNewPhoto()})()}cancel(){this.modalController.dismiss()}confirm(){var o=this;return(0,s.c)(function*(){yield o.photoService.addPhotosToAlbum(o.selectedPhotos,o.albumId),yield o.getPhotosByAlbum(),o.modalController.dismiss()})()}changeSelectedPhotos(o){var e=this;return(0,s.c)(function*(){e.selectedPhotos=o})()}deletedPhoto(o){var e=this;return(0,s.c)(function*(){e.photoService.deletePhotoAlbum(o.filepath),yield e.getPhotosByAlbum()})()}}return(n=u).\u0275fac=function(o){return new(o||n)(t.GI1(P.y),t.GI1(v.s),t.GI1(r.E5),t.GI1(r.gV),t.GI1(a.qS))},n.\u0275cmp=t.In1({type:n,selectors:[["app-album"]],viewQuery:function(o,e){if(1&o&&t.CC$(a.yc,5),2&o){let c;t.wto(c=t.Gqi())&&(e.modal=c.first)}},decls:8,vars:4,consts:[[3,"name","showBack"],[3,"fullscreen"],[3,"photosInput","clickDeleted"],["vertical","bottom","horizontal","center","slot","fixed","id","open-modal",1,"fab-contain"],[1,"button-fab",3,"click"],["name","add-outline"],["trigger","open-modal"],["slot","start"],[3,"click"],["align","center"],["slot","end"],[3,"strong","click"],[1,"ion-padding"],[3,"photosInput","selection","selectedPhotos"],["vertical","bottom","horizontal","center","slot","fixed",1,"fab-contain"],["name","camera"]],template:function(o,e){1&o&&(t.wR5(0,"app-header",0),t.I0R(1,"ion-content",1)(2,"app-list-photos",2),t.qCj("clickDeleted",function(m){return e.deletedPhoto(m)}),t.C$Y(),t.I0R(3,"ion-fab",3)(4,"ion-fab-button",4),t.qCj("click",function(){return e.addPhotoToAlbum()}),t.wR5(5,"ion-icon",5),t.C$Y()(),t.I0R(6,"ion-modal",6),t.yuY(7,I,15,3,"ng-template"),t.C$Y()()),2&o&&(t.E7m("name",e.nameAlbum)("showBack",!0),t.yG2(),t.E7m("fullscreen",!0),t.yG2(),t.E7m("photosInput",e.photosAlbum))},dependencies:[a.sn,a.GS,a._i,a.q8,a.Wq,a.wB,a.Ko,a.tM,a.Md,a.yc,A.Y,y.k]}),u})()}];let _=(()=>{var n;class u{}return(n=u).\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.a4G({type:n}),n.\u0275inj=t.s3X({imports:[r.qQ.forChild(C),r.qQ]}),u})();var G=l(292);let R=(()=>{var n;class u{}return(n=u).\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.a4G({type:n}),n.\u0275inj=t.s3X({imports:[a.wZ,p.MD,f.y,g.E,_,G.a]}),u})()}}]);